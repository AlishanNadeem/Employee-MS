{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wt\\\\Desktop\\\\Employee-MS\\\\client\\\\src\\\\Components\\\\Assets\\\\Admin\\\\Leave\\\\ViewLeave.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Button, Paper, Snackbar, Dialog, Backdrop, Grid } from '@material-ui/core';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Loader from '../../Loader';\nimport Heading from '../../Heading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledTableCell = withStyles(theme => ({\n  head: {\n    backgroundColor: '#003049',\n    color: theme.palette.common.white,\n    fontWeight: 'bold'\n  },\n  body: {\n    fontSize: 14,\n    backgroundColor: theme.palette.common.white\n  },\n  button: {\n    margin: theme.spacing(1)\n  }\n}))(TableCell);\nconst StyledTableRow = withStyles(theme => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover\n    }\n  }\n}))(TableRow);\nconst useStyles = makeStyles(theme => ({\n  parentDiv: {\n    display: 'flex',\n    flex: 1,\n    width: '100%',\n    flexDirection: 'column'\n  },\n  upperChild: {\n    display: 'flex',\n    flex: 0.1,\n    width: '100%',\n    flexDirection: 'column'\n  },\n  lowerChild: {\n    display: 'flex',\n    flex: 0.9,\n    width: '100%'\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  statusColorRed: {\n    color: 'red',\n    fontWeight: 'bold'\n  },\n  statusColorGreen: {\n    color: 'green',\n    fontWeight: 'bold'\n  },\n  statusColorYellow: {\n    color: '#003049',\n    fontWeight: 'bold'\n  }\n}));\nexport default function Leaves() {\n  _s();\n\n  const classes = useStyles();\n  const [employees, setEmployees] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  useEffect(() => {\n    getPendingLeaves();\n  }, []);\n\n  const getPendingLeaves = () => {\n    Axios.get('http://localhost:5000/admin/viewLeaveRequests', {\n      headers: {\n        'x-access-token': localStorage.getItem('x-access-token')\n      }\n    }).then(res => {\n      console.log(res.data);\n      const getEmployees = res.data;\n      setEmployees(getEmployees);\n      setIsLoaded(true);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const acceptLeave = (id, status) => {\n    Axios.post(`http://localhost:5000/admin/approveLeaveRequest/${id}`, {\n      status: status\n    }, {\n      headers: {\n        'x-access-token': localStorage.getItem('x-access-token')\n      }\n    }).then(res => {\n      console.log(res.data);\n      getPendingLeaves();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const handleClickAccept = e => {\n    acceptLeave(e, \"Approved\");\n  };\n\n  const handleClickDeclined = e => {\n    acceptLeave(e, \"Declined\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.parentDiv,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.upperChild,\n      children: /*#__PURE__*/_jsxDEV(Heading, {\n        text: \"Pending Leaves\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.lowerChild,\n      children: /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          justify: \"flex-end\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), isLoaded === false ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 47\n        }, this) : /*#__PURE__*/_jsxDEV(Table, {\n          \"aria-label\": \"customized table\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n                children: \"Employee Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                children: \"Employee Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"Start Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"End Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 33\n          }, this), employees.length > 0 ? /*#__PURE__*/_jsxDEV(TableBody, {\n            children: employees.map(employee => employee.leaves.map(leave => /*#__PURE__*/_jsxDEV(StyledTableRow, {\n              children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n                children: employee.employeeId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 57\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                children: employee.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 57\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                component: \"th\",\n                scope: \"row\",\n                children: leave.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 57\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: leave.startDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 57\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: leave.endDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 57\n              }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                align: \"center\",\n                children: /*#__PURE__*/_jsxDEV(React.Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"primary\",\n                    size: \"small\",\n                    className: classes.button,\n                    startIcon: /*#__PURE__*/_jsxDEV(CheckCircleIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 80\n                    }, this),\n                    onClick: () => handleClickAccept(leave._id),\n                    children: \"Accept\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 65\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"secondary\",\n                    size: \"small\",\n                    className: classes.button,\n                    startIcon: /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 80\n                    }, this),\n                    onClick: () => handleClickDeclined(leave._id),\n                    children: \"Declined\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 65\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 61\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 57\n              }, this)]\n            }, employee._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 53\n            }, this)))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 38\n          }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"No Leaves Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Leaves, \"njcA/E/bL5GPe/DEyLKYxVRZzJE=\", false, function () {\n  return [useStyles];\n});\n\n_c = Leaves;\n\nvar _c;\n\n$RefreshReg$(_c, \"Leaves\");","map":{"version":3,"sources":["C:/Users/wt/Desktop/Employee-MS/client/src/Components/Assets/Admin/Leave/ViewLeave.js"],"names":["React","useEffect","useState","Axios","withStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","Paper","Snackbar","Dialog","Backdrop","Grid","CheckCircleIcon","CancelIcon","Loader","Heading","StyledTableCell","theme","head","backgroundColor","color","palette","common","white","fontWeight","body","fontSize","button","margin","spacing","StyledTableRow","root","action","hover","useStyles","parentDiv","display","flex","width","flexDirection","upperChild","lowerChild","statusColorRed","statusColorGreen","statusColorYellow","Leaves","classes","employees","setEmployees","isLoaded","setIsLoaded","getPendingLeaves","get","headers","localStorage","getItem","then","res","console","log","data","getEmployees","catch","error","acceptLeave","id","status","post","handleClickAccept","e","handleClickDeclined","length","map","employee","leaves","leave","employeeId","name","description","startDate","endDate","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Axios from 'axios';\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow,\r\n    Button,\r\n    Paper,\r\n    Snackbar,\r\n    Dialog,\r\n    Backdrop,\r\n    Grid\r\n} from '@material-ui/core';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport Loader from '../../Loader';\r\nimport Heading from '../../Heading';\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n    head: {\r\n        backgroundColor: '#003049',\r\n        color: theme.palette.common.white,\r\n        fontWeight: 'bold',\r\n    },\r\n    body: {\r\n        fontSize: 14,\r\n        backgroundColor: theme.palette.common.white,\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme) => ({\r\n    root: {\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.action.hover,\r\n        },\r\n    },\r\n}))(TableRow);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    parentDiv: {\r\n        display: 'flex',\r\n        flex: 1,\r\n        width: '100%',\r\n        flexDirection: 'column',\r\n    },\r\n    upperChild: {\r\n        display: 'flex',\r\n        flex: 0.1,\r\n        width: '100%',\r\n        flexDirection: 'column',\r\n    },\r\n    lowerChild: {\r\n        display: 'flex',\r\n        flex: 0.9,\r\n        width: '100%',\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    statusColorRed: {\r\n        color: 'red',\r\n        fontWeight: 'bold',\r\n    },\r\n    statusColorGreen: {\r\n        color: 'green',\r\n        fontWeight: 'bold',\r\n    },\r\n    statusColorYellow: {\r\n        color: '#003049',\r\n        fontWeight: 'bold',\r\n    },\r\n}));\r\n\r\nexport default function Leaves() {\r\n    const classes = useStyles();\r\n\r\n    const [employees, setEmployees] = useState([]);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    useEffect(() => {\r\n        getPendingLeaves();\r\n    }, []);\r\n\r\n    const getPendingLeaves = () => {\r\n        Axios.get('http://localhost:5000/admin/viewLeaveRequests', {\r\n            headers: {\r\n                'x-access-token': localStorage.getItem('x-access-token')\r\n            }\r\n        })\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                const getEmployees = res.data;\r\n                setEmployees(getEmployees);\r\n                setIsLoaded(true);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    const acceptLeave = (id, status) => {\r\n        Axios.post(`http://localhost:5000/admin/approveLeaveRequest/${id}`, {\r\n            status: status\r\n        },\r\n            {\r\n                headers: {\r\n                    'x-access-token': localStorage.getItem('x-access-token')\r\n                }\r\n            })\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                getPendingLeaves();\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    const handleClickAccept = (e) => {\r\n        acceptLeave(e, \"Approved\");\r\n    };\r\n\r\n    const handleClickDeclined = (e) => {\r\n        acceptLeave(e, \"Declined\");\r\n    };\r\n\r\n    return (\r\n        <div className={classes.parentDiv}>\r\n            <div className={classes.upperChild}>\r\n                <Heading text='Pending Leaves' />\r\n            </div>\r\n            <div className={classes.lowerChild}>\r\n                <TableContainer component={Paper}>\r\n                    <Grid container justify=\"flex-end\">\r\n                    </Grid>\r\n                    {\r\n                        isLoaded === false ? (<Loader />) : (\r\n                            <Table aria-label=\"customized table\">\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <StyledTableCell>Employee Id</StyledTableCell>\r\n                                        <StyledTableCell>Employee Name</StyledTableCell>\r\n                                        <StyledTableCell>Description</StyledTableCell>\r\n                                        <StyledTableCell align=\"center\">Start Date</StyledTableCell>\r\n                                        <StyledTableCell align=\"center\">End Date</StyledTableCell>\r\n                                        <StyledTableCell align=\"center\">Action</StyledTableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                {employees.length > 0 ?\r\n                                    (<TableBody>\r\n                                        {\r\n                                            employees.map((employee) => (\r\n                                                employee.leaves.map((leave) => (\r\n                                                    <StyledTableRow key={employee._id}>\r\n                                                        <StyledTableCell>{employee.employeeId}</StyledTableCell>\r\n                                                        <StyledTableCell>{employee.name}</StyledTableCell>\r\n                                                        <StyledTableCell component=\"th\" scope=\"row\">{leave.description}</StyledTableCell>\r\n                                                        <StyledTableCell align=\"center\">{leave.startDate}</StyledTableCell>\r\n                                                        <StyledTableCell align=\"center\">{leave.endDate}</StyledTableCell>\r\n                                                        <StyledTableCell align=\"center\">\r\n                                                            <React.Fragment>\r\n                                                                <Button\r\n                                                                    variant=\"contained\"\r\n                                                                    color=\"primary\"\r\n                                                                    size=\"small\"\r\n                                                                    className={classes.button}\r\n                                                                    startIcon={<CheckCircleIcon />}\r\n                                                                    onClick={() => handleClickAccept(leave._id)}>\r\n                                                                    Accept\r\n                                                                </Button>\r\n                                                                <Button\r\n                                                                    variant=\"contained\"\r\n                                                                    color=\"secondary\"\r\n                                                                    size=\"small\"\r\n                                                                    className={classes.button}\r\n                                                                    startIcon={<CancelIcon />}\r\n                                                                    onClick={() => handleClickDeclined(leave._id)}>\r\n                                                                    Declined\r\n                                                                </Button>\r\n                                                            </React.Fragment>\r\n                                                        </StyledTableCell>\r\n                                                    </StyledTableRow>\r\n                                                ))\r\n                                            ))\r\n                                        }\r\n                                    </TableBody>) :\r\n                                    (<h2>No Leaves Found</h2>)\r\n                                }\r\n                            </Table>\r\n                        )\r\n                    }\r\n                </TableContainer>\r\n            </div>\r\n        </div >\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}